[gd_scene load_steps=4 format=3 uid="uid://ce4v6087lyga5"]

[ext_resource type="PackedScene" uid="uid://bgd0xc7kvr0ou" path="res://models/player.glb" id="1_n6lr1"]
[ext_resource type="Script" path="res://scenes/player/player_visuals.gd" id="2_pu3n2"]
[ext_resource type="PackedScene" uid="uid://vo11ijbtt3xo" path="res://scenes/weapon/gun.tscn" id="3_865bm"]

[node name="player" instance=ExtResource("1_n6lr1")]
script = ExtResource("2_pu3n2")
gun_mode = 1

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(0.4534, -1.00606, -71.5211)
bones/0/rotation = Quaternion(-0.731574, -0.0473954, 0.0164743, 0.679913)
bones/1/rotation = Quaternion(0.0487014, 0.0180466, 0.022359, 0.9984)
bones/2/rotation = Quaternion(0.0166715, 0.0051687, 0.0147048, 0.999739)
bones/3/rotation = Quaternion(0.018571, 0.00510071, 0.0146868, 0.999707)
bones/4/rotation = Quaternion(0.0333029, -0.00184626, 0.00275214, 0.99944)
bones/5/rotation = Quaternion(-0.0766637, 0.00788734, -0.000615513, 0.997025)
bones/8/rotation = Quaternion(0.64585, 0.391064, -0.495574, 0.429363)
bones/9/position = Vector3(-1.42361e-06, 23.1298, -1.98795e-06)
bones/9/rotation = Quaternion(0.51967, 0.161104, 0.160435, 0.823559)
bones/10/rotation = Quaternion(-0.00144296, -0.0626331, 0.011267, 0.997972)
bones/11/position = Vector3(3.71745e-06, 23.9657, 7.18127e-06)
bones/11/rotation = Quaternion(0.0428568, -0.22013, 0.0378548, 0.973793)
bones/12/rotation = Quaternion(0.0656806, 0.0101197, 0.0119077, 0.997718)
bones/13/rotation = Quaternion(0.140297, 0.000239681, -0.00717931, 0.990083)
bones/14/rotation = Quaternion(0.073795, -0.0201487, 0.214547, 0.973713)
bones/15/position = Vector3(1.1121, 2.37571, 0.028607)
bones/18/rotation = Quaternion(0.674255, -0.41394, 0.473417, 0.387183)
bones/19/rotation = Quaternion(0.426509, -0.215696, -0.222226, 0.849812)
bones/20/rotation = Quaternion(-0.00534182, -0.0134464, -0.0538964, 0.998442)
bones/21/position = Vector3(2.71759e-06, 23.2933, -2.32246e-06)
bones/21/rotation = Quaternion(0.0501159, 0.182161, -0.0148423, 0.981879)
bones/21/scale = Vector3(1.00048, 1.00048, 1.00048)
bones/22/rotation = Quaternion(0.0583409, -0.000723609, -0.0160807, 0.998167)
bones/23/rotation = Quaternion(0.14003, 0.0129486, -0.0850231, 0.986405)
bones/24/position = Vector3(-0.657199, 3.8116, 0.0873121)
bones/24/rotation = Quaternion(0.0268704, 0.0215748, -0.178936, 0.983257)
bones/25/position = Vector3(-0.775601, 1.31401, 0.150397)
bones/29/rotation = Quaternion(-0.138485, -0.0783684, -0.982367, 0.0981557)
bones/30/rotation = Quaternion(-0.218081, 0.00108176, 0.0211118, 0.975702)
bones/31/rotation = Quaternion(0.731878, 0.13548, -0.184254, 0.641911)
bones/32/rotation = Quaternion(0.0349015, 0.015664, 0.0863569, 0.99553)
bones/35/rotation = Quaternion(0.0918196, 0.0725182, -0.993041, 0.0133757)
bones/36/rotation = Quaternion(-0.0648431, 0.0826027, -0.0144502, 0.994366)
bones/37/rotation = Quaternion(-0.237672, 0.762521, -0.570197, -0.192219)
bones/38/rotation = Quaternion(0.253142, 0.684558, -0.398629, 0.555332)

[node name="GunTipIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="0"]
process_priority = 1
root_bone = &"mixamorig_LeftShoulder"
tip_bone = &"mixamorig_LeftHand"
override_tip_basis = false
target_node = NodePath("../../../gun_skeleton/BoneAttachment3D/gun_stowed/gun/tip")

[node name="GunHandleIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="1"]
process_priority = 1
root_bone = &"mixamorig_RightShoulder"
tip_bone = &"mixamorig_RightHand"
override_tip_basis = false
target_node = NodePath("../../../gun_skeleton/BoneAttachment3D/gun_stowed/gun/handle")

[node name="head" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(6.84095, -99.7327, 2.5685, -0.364761, -2.59951, -99.9655, 99.7651, 6.82922, -0.541613, -4.29688, 1.61433, -190.961)
bone_idx = 7

[node name="leftArm_2" parent="Armature/Skeleton3D" index="3"]
transform = Transform3D(-34.9024, -14.5938, 92.568, -93.6618, 2.22036, -34.9648, 3.04732, -98.9044, -14.4437, 36.0234, 2.30178, -76.7021)
bone_idx = 16

[node name="leftArm" parent="Armature/Skeleton3D" index="4"]
transform = Transform3D(-35.298, -16.2021, 92.1496, -93.5555, 4.85803, -34.9824, 1.19121, -98.5591, -16.8727, 31.2472, 4.14957, -111.577)
bone_idx = 17

[node name="rightArm_2" parent="Armature/Skeleton3D" index="5"]
transform = Transform3D(96.8357, 8.16484, 23.5834, -23.443, -2.65104, 97.1771, 8.55957, -99.6309, -0.653069, -34.6302, 0.985326, -70.7002)
bone_idx = 26

[node name="rightArm" parent="Armature/Skeleton3D" index="6"]
transform = Transform3D(26.6933, -14.5117, -95.2727, -96.3399, -1.48536, -26.766, 2.46906, 98.9304, -14.377, -31.5124, 1.49642, -105.333)
bone_idx = 27

[node name="body" parent="Armature/Skeleton3D" index="7"]
transform = Transform3D(99.8529, -0.157308, -5.41944, 5.42021, 0.538957, 99.8515, -0.127867, -99.9984, 0.546686, 1.16588, -0.285386, -109.285)
bone_idx = 28

[node name="leftLEg" parent="Armature/Skeleton3D" index="8"]
transform = Transform3D(14.2712, 97.3527, 17.8548, 22.9048, -20.7982, 95.0937, 96.2897, -9.48136, -25.2666, 19.1995, 10.1437, -41.979)
bone_idx = 34

[node name="rightLeg" parent="Armature/Skeleton3D" index="9"]
transform = Transform3D(2.72272, 96.2081, -27.1402, -8.14057, 27.2735, 95.8639, 99.6309, -0.400743, 8.57446, -16.3443, -0.824039, -41.8536)
bone_idx = 40

[node name="gun_skeleton" type="Skeleton3D" parent="." index="2"]

[node name="gun_first_person" parent="gun_skeleton" index="0" instance=ExtResource("3_865bm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.250652, 1.06319, 0.423069)
visible = false

[node name="bone_helper_stowed" type="BoneAttachment3D" parent="gun_skeleton" index="1"]
transform = Transform3D(0.474468, 0.038353, 0.879982, 0.880742, -0.00753013, -0.474549, -0.0115685, 0.999717, -0.037334, -35.4932, 1.40608, -67.0154)
bone_name = "mixamorig_RightHand"
bone_idx = 21
use_external_skeleton = true
external_skeleton = NodePath("../../Armature/Skeleton3D")

[node name="scaler" type="Node3D" parent="gun_skeleton/bone_helper_stowed" index="0"]
transform = Transform3D(100, 5.96046e-06, -1.77636e-13, -5.96046e-06, 100, -2.98023e-06, 0, 2.98023e-06, 100, 0, 0, 0)

[node name="gun_stowed" type="Node3D" parent="gun_skeleton/bone_helper_stowed/scaler" index="0"]
transform = Transform3D(0.23564, 0.511059, 0.826037, -0.501518, -0.663928, 0.553828, 0.831864, -0.545038, 0.0999053, 0.263504, 0.0941253, 0.0554504)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="gun_skeleton" index="2"]
transform = Transform3D(99.8529, -0.157308, -5.41944, 5.42021, 0.538957, 99.8515, -0.127867, -99.9984, 0.546686, 1.16588, -0.285386, -109.285)
bone_name = "body"
bone_idx = 28
use_external_skeleton = true
external_skeleton = NodePath("../../Armature/Skeleton3D")

[node name="gun_idle" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="0"]
transform = Transform3D(0.324093, -0.0264076, 0.945652, -0.000484832, 0.999602, 0.0280803, -0.94602, -0.00955915, 0.323953, -0.0469075, -0.070896, 0.28684)

[node name="gun_aim_idle" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="1"]
transform = Transform3D(0.642282, 0.0532264, 0.764619, 0.0259726, 0.995502, -0.0911157, -0.766029, 0.0783812, 0.63801, -0.112425, 0.239207, 0.393362)

[node name="gun_aim_run" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="2"]
transform = Transform3D(0.94248, -0.178349, 0.282706, 0.0899221, 0.949864, 0.299455, -0.321938, -0.256809, 0.911266, -0.170172, 0.389317, 0.404395)

[node name="gun_aim_walk" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="3"]
transform = Transform3D(0.813066, -0.124569, 0.568691, 0.0230013, 0.982953, 0.182426, -0.581718, -0.135243, 0.802069, -0.196982, 0.360155, 0.453303)

[node name="gun_stowed" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="4"]
transform = Transform3D(0.104209, -0.875384, 0.472058, 0.0989303, -0.463165, -0.880729, 0.989619, 0.138481, 0.0383361, -0.189505, 0.352484, -0.281979)

[node name="gun" parent="gun_skeleton/BoneAttachment3D/gun_stowed" index="0" instance=ExtResource("3_865bm")]
unique_name_in_owner = true

[node name="tip" type="Marker3D" parent="gun_skeleton/BoneAttachment3D/gun_stowed/gun" index="1"]
transform = Transform3D(1, 1.30385e-08, 1.19209e-06, 5.43892e-07, 1, -4.47035e-08, -2.98023e-08, 5.58794e-08, 1, 0.0176065, -0.0670089, 0.712633)

[node name="handle" type="Marker3D" parent="gun_skeleton/BoneAttachment3D/gun_stowed/gun" index="2"]
transform = Transform3D(1, 5.02914e-08, 1.49012e-07, 3.53903e-08, 1, -7.45058e-09, -8.9407e-08, -7.45058e-09, 1, 0.0164987, -0.100369, -0.0505382)
