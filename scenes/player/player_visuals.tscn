[gd_scene load_steps=4 format=3 uid="uid://ce4v6087lyga5"]

[ext_resource type="PackedScene" uid="uid://bgd0xc7kvr0ou" path="res://models/player.glb" id="1_n6lr1"]
[ext_resource type="Script" path="res://scenes/player/player_visuals.gd" id="2_pu3n2"]
[ext_resource type="PackedScene" uid="uid://vo11ijbtt3xo" path="res://scenes/weapon/gun.tscn" id="3_865bm"]

[node name="player" instance=ExtResource("1_n6lr1")]
script = ExtResource("2_pu3n2")
gun_mode = 1
carry_mode = true

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(1.26228, -0.757269, -68.4256)
bones/0/rotation = Quaternion(-0.729742, -0.041764, 0.0505405, 0.680571)
bones/1/rotation = Quaternion(0.00422554, 0.0180807, -0.00815035, 0.999794)
bones/2/rotation = Quaternion(-0.00837473, 0.0362668, -0.0167911, 0.999166)
bones/3/rotation = Quaternion(-0.00648373, 0.0360554, -0.0172137, 0.99918)
bones/4/rotation = Quaternion(0.0132852, -0.0168777, 0.00913454, 0.999727)
bones/5/rotation = Quaternion(0.0342586, -0.0178894, 0.0147153, 0.999144)
bones/8/rotation = Quaternion(0.516755, 0.452538, -0.611047, 0.393438)
bones/9/position = Vector3(6.31406e-07, 23.1298, -2.05748e-05)
bones/9/rotation = Quaternion(0.389563, 0.136587, 0.12083, 0.902764)
bones/10/position = Vector3(9.08999e-07, 39.6046, -1.50975e-05)
bones/10/rotation = Quaternion(0.0286076, -0.0447192, 0.704948, 0.707269)
bones/11/rotation = Quaternion(0.0240054, -0.456725, 0.0527723, 0.887716)
bones/12/position = Vector3(1.47203e-06, 1.3179, 1.4218e-05)
bones/12/rotation = Quaternion(0.302879, -0.0806234, 0.0336801, 0.949015)
bones/13/rotation = Quaternion(0.288769, 0.000387276, 0.0121789, 0.957321)
bones/18/rotation = Quaternion(0.584079, -0.45788, 0.525429, 0.416078)
bones/19/position = Vector3(7.92274e-07, 23.0467, 1.60653e-05)
bones/19/rotation = Quaternion(0.48816, 0.00526413, -0.0530416, 0.871124)
bones/20/position = Vector3(1.0967e-06, 40.7526, 8.25217e-06)
bones/20/rotation = Quaternion(-0.0554016, -0.0105466, -0.681863, 0.729302)
bones/21/position = Vector3(3.4738e-06, 23.2933, -1.13928e-05)
bones/21/rotation = Quaternion(-0.0836984, 0.460669, -0.182684, 0.864526)
bones/21/scale = Vector3(1.00048, 1.00048, 1.00048)
bones/22/position = Vector3(-1.36651e-05, 3.2588, -1.77211e-06)
bones/22/rotation = Quaternion(0.324221, 0.0676361, 0.0810249, 0.940075)
bones/23/rotation = Quaternion(0.309086, -0.0270566, -0.0844704, 0.946889)
bones/24/position = Vector3(-0.65719, 3.8116, 0.0873116)
bones/25/position = Vector3(-0.775613, 1.31401, 0.150395)
bones/29/rotation = Quaternion(-0.0686777, -0.0850455, -0.992859, 0.0477547)
bones/30/rotation = Quaternion(-0.371009, 0.00798482, -0.0390676, 0.927772)
bones/31/rotation = Quaternion(0.816323, 0.203821, -0.103036, 0.530525)
bones/32/rotation = Quaternion(-0.00409665, -0.000130904, 0.0836411, 0.996487)
bones/35/rotation = Quaternion(-0.0170655, 0.1189, 0.987769, 0.0993933)
bones/36/rotation = Quaternion(-0.395917, -0.00480836, 0.0359434, 0.91757)
bones/37/rotation = Quaternion(-0.180406, 0.846228, -0.49147, -0.0990325)
bones/38/rotation = Quaternion(0.266357, 0.721329, -0.368668, 0.522324)

[node name="GunTipIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="0"]
process_priority = 1
root_bone = &"mixamorig_LeftShoulder"
tip_bone = &"mixamorig_LeftHand"
override_tip_basis = false
target_node = NodePath("../../../gun_skeleton/BoneAttachment3D/gun_stowed/gun/tip")

[node name="GunHandleIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="1"]
process_priority = 1
root_bone = &"mixamorig_RightShoulder"
tip_bone = &"mixamorig_RightHand"
override_tip_basis = false
target_node = NodePath("../../../gun_skeleton/BoneAttachment3D/gun_stowed/gun/handle")

[node name="head" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(-2.90456, -99.9305, 2.33581, -0.746079, -2.31506, -99.9704, 99.9551, -2.92113, -0.678329, 5.178, -8.24793, -187.943)
bone_idx = 7

[node name="leftArm_2" parent="Armature/Skeleton3D" index="3"]
transform = Transform3D(-59.8225, 12.3996, 79.1676, -2.00039, -98.9958, 13.9935, 80.1078, 6.7876, 59.4699, 43.1934, 13.6311, -93.0591)
bone_idx = 16

[node name="leftArm" parent="Armature/Skeleton3D" index="4"]
transform = Transform3D(-71.8019, -39.2406, 57.4863, -58.4733, -10.792, -80.4015, 37.7539, -91.344, -15.1964, 40.0428, -7.00008, -106.88)
bone_idx = 17

[node name="rightArm_2" parent="Armature/Skeleton3D" index="5"]
transform = Transform3D(98.9617, -4.29184, -13.717, -4.39948, -99.902, -0.482331, -13.6829, 1.0808, -99.0536, -39.9175, 20.3707, -97.5834)
bone_idx = 26

[node name="rightArm" parent="Armature/Skeleton3D" index="6"]
transform = Transform3D(73.8309, -40.1633, -54.184, -54.1655, 12.5608, -83.1163, 40.1882, 90.7147, -12.4809, -35.7571, -0.295319, -111.156)
bone_idx = 27

[node name="body" parent="Armature/Skeleton3D" index="7"]
transform = Transform3D(99.5503, 1.12143, -9.40697, 9.46572, -7.72964, 99.2505, 0.385905, -99.6945, -7.80103, 1.68631, -2.26711, -106.185)
bone_idx = 28

[node name="leftLEg" parent="Armature/Skeleton3D" index="8"]
transform = Transform3D(7.54704, 99.7146, -0.222026, 25.4925, -1.71416, 96.6809, 96.4012, -7.35315, -25.5491, 18.154, 11.5604, -39.7616)
bone_idx = 34

[node name="rightLeg" parent="Armature/Skeleton3D" index="9"]
transform = Transform3D(-20.2567, 96.8898, -14.2142, 25.4117, 19.2188, 94.7886, 94.5723, 15.5889, -28.5144, -20.563, 7.05541, -39.9866)
bone_idx = 40

[node name="gun_skeleton" type="Skeleton3D" parent="." index="2"]

[node name="gun_first_person" parent="gun_skeleton" index="0" instance=ExtResource("3_865bm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.250652, 1.06319, 0.423069)
visible = false

[node name="bone_helper_stowed" type="BoneAttachment3D" parent="gun_skeleton" index="1"]
transform = Transform3D(-0.00465112, -0.00108218, 0.00879159, 0.00797945, 0.0037995, 0.00468916, -0.00384597, 0.00919177, -0.000903239, -0.403939, 0.977188, 0.241462)
bone_name = "mixamorig_RightHand"
bone_idx = 21
use_external_skeleton = true
external_skeleton = NodePath("../../Armature/Skeleton3D")

[node name="scaler" type="Node3D" parent="gun_skeleton/bone_helper_stowed" index="0"]
transform = Transform3D(100, 5.96046e-06, -1.77636e-13, -5.96046e-06, 100, -2.98023e-06, 0, 2.98023e-06, 100, 0, 0, 0)

[node name="gun_stowed" type="Node3D" parent="gun_skeleton/bone_helper_stowed/scaler" index="0"]
transform = Transform3D(0.23564, 0.511059, 0.826037, -0.501518, -0.663928, 0.553828, 0.831864, -0.545038, 0.0999053, 0.263504, 0.0941253, 0.0554504)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="gun_skeleton" index="2"]
transform = Transform3D(0.995503, 0.0112143, -0.0940697, -0.00385908, 0.996945, 0.0780099, 0.0946572, -0.0772961, 0.992504, 0.0168631, 1.06185, -0.0226707)
bone_name = "body"
bone_idx = 28
use_external_skeleton = true
external_skeleton = NodePath("../../Armature/Skeleton3D")

[node name="gun_idle" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="0"]
transform = Transform3D(0.324093, -0.0264076, 0.945652, -0.000484832, 0.999602, 0.0280803, -0.94602, -0.00955915, 0.323953, -0.0469075, -0.070896, 0.28684)

[node name="gun_aim_idle" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="1"]
transform = Transform3D(0.642282, 0.0532264, 0.764619, 0.0259726, 0.995502, -0.0911157, -0.766029, 0.0783812, 0.63801, -0.112425, 0.239207, 0.393362)

[node name="gun_aim_run" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="2"]
transform = Transform3D(0.94248, -0.178349, 0.282706, 0.0899221, 0.949864, 0.299455, -0.321938, -0.256809, 0.911266, -0.170172, 0.389317, 0.404395)

[node name="gun_aim_walk" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="3"]
transform = Transform3D(0.813066, -0.124569, 0.568691, 0.0230013, 0.982953, 0.182426, -0.581718, -0.135243, 0.802069, -0.196982, 0.360155, 0.453303)

[node name="gun_stowed" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="4"]
transform = Transform3D(0.104209, -0.875384, 0.472058, 0.0989303, -0.463165, -0.880729, 0.989619, 0.138481, 0.0383361, -0.189505, 0.352484, -0.281979)

[node name="gun" parent="gun_skeleton/BoneAttachment3D/gun_stowed" index="0" instance=ExtResource("3_865bm")]
unique_name_in_owner = true

[node name="tip" type="Marker3D" parent="gun_skeleton/BoneAttachment3D/gun_stowed/gun" index="1"]
transform = Transform3D(1, 1.30385e-08, 1.19209e-06, 5.43892e-07, 1, -4.47035e-08, -2.98023e-08, 5.58794e-08, 1, 0.0176065, -0.0670089, 0.712633)

[node name="handle" type="Marker3D" parent="gun_skeleton/BoneAttachment3D/gun_stowed/gun" index="2"]
transform = Transform3D(1, 5.02914e-08, 1.49012e-07, 3.53903e-08, 1, -7.45058e-09, -8.9407e-08, -7.45058e-09, 1, 0.0164987, -0.100369, -0.0505382)
