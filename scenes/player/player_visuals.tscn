[gd_scene load_steps=4 format=3 uid="uid://ce4v6087lyga5"]

[ext_resource type="PackedScene" uid="uid://bgd0xc7kvr0ou" path="res://models/player.glb" id="1_n6lr1"]
[ext_resource type="Script" path="res://scenes/player/player_visuals.gd" id="2_pu3n2"]
[ext_resource type="PackedScene" uid="uid://vo11ijbtt3xo" path="res://scenes/weapon/gun.tscn" id="3_865bm"]

[node name="player" instance=ExtResource("1_n6lr1")]
script = ExtResource("2_pu3n2")
gun_mode = 1
carry_mode = true

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(-0.526673, -2.58484, -68.5532)
bones/0/rotation = Quaternion(-0.737625, -0.0386773, 0.0407121, 0.672871)
bones/1/rotation = Quaternion(0.0037636, 0.016587, -0.0082999, 0.999821)
bones/2/rotation = Quaternion(-0.00965716, 0.0328476, -0.016455, 0.999278)
bones/3/rotation = Quaternion(-0.00772005, 0.0326661, -0.0168125, 0.999295)
bones/4/rotation = Quaternion(0.00798716, -0.00857998, 0.00859158, 0.999894)
bones/5/rotation = Quaternion(0.0254862, -0.0130766, 0.020822, 0.999373)
bones/8/rotation = Quaternion(0.519171, 0.449702, -0.613164, 0.390204)
bones/9/position = Vector3(6.31406e-07, 23.1298, -2.05748e-05)
bones/9/rotation = Quaternion(0.389359, 0.145353, 0.114529, 0.902305)
bones/10/position = Vector3(9.08999e-07, 39.6046, -1.50975e-05)
bones/10/rotation = Quaternion(0.028986, -0.0440978, 0.714558, 0.697584)
bones/11/rotation = Quaternion(0.0121972, -0.446057, 0.0379996, 0.894114)
bones/12/position = Vector3(1.47203e-06, 1.3179, 1.4218e-05)
bones/12/rotation = Quaternion(0.346734, -0.0855798, 0.0325662, 0.933483)
bones/13/rotation = Quaternion(0.234533, 0.000550041, 0.00953732, 0.972061)
bones/18/rotation = Quaternion(0.584228, -0.457711, 0.525526, 0.415934)
bones/19/position = Vector3(7.92274e-07, 23.0467, 1.60653e-05)
bones/19/rotation = Quaternion(0.484385, 0.00254599, -0.0440768, 0.87374)
bones/20/position = Vector3(1.0967e-06, 40.7526, 8.25217e-06)
bones/20/rotation = Quaternion(-0.05498, -0.0106009, -0.676267, 0.734525)
bones/21/position = Vector3(3.4738e-06, 23.2933, -1.13928e-05)
bones/21/rotation = Quaternion(-0.0773643, 0.468842, -0.188706, 0.859414)
bones/21/scale = Vector3(1.00048, 1.00048, 1.00048)
bones/22/position = Vector3(-1.36651e-05, 3.2588, -1.77211e-06)
bones/22/rotation = Quaternion(0.438347, 0.00945198, 0.0227277, 0.898469)
bones/23/rotation = Quaternion(0.26384, 0.0153303, -0.0974063, 0.959513)
bones/24/position = Vector3(-0.65719, 3.8116, 0.0873116)
bones/25/position = Vector3(-0.775613, 1.31401, 0.150395)
bones/29/rotation = Quaternion(-0.0572425, -0.092861, -0.991436, 0.071789)
bones/30/rotation = Quaternion(-0.36859, 0.0109589, -0.040527, 0.928644)
bones/31/rotation = Quaternion(0.807103, 0.190153, -0.120888, 0.545722)
bones/32/rotation = Quaternion(-0.00451183, -3.51086e-05, 0.0836414, 0.996486)
bones/35/rotation = Quaternion(-0.0298799, 0.098715, 0.991735, 0.0763093)
bones/36/rotation = Quaternion(-0.380225, -0.00367414, 0.03483, 0.924231)
bones/37/rotation = Quaternion(-0.181618, 0.863916, -0.459287, -0.09859)
bones/38/rotation = Quaternion(0.265564, 0.723016, -0.368636, 0.520415)

[node name="GunTipIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="0"]
process_priority = 1
root_bone = &"mixamorig_LeftShoulder"
tip_bone = &"mixamorig_LeftHand"
override_tip_basis = false
target_node = NodePath("../../../gun_skeleton/BoneAttachment3D/gun_stowed/gun/tip")

[node name="GunHandleIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="1"]
process_priority = 1
root_bone = &"mixamorig_RightShoulder"
tip_bone = &"mixamorig_RightHand"
override_tip_basis = false
target_node = NodePath("../../../gun_skeleton/BoneAttachment3D/gun_stowed/gun/handle")

[node name="head" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(-2.80927, -99.9585, -0.640711, 4.77913, 0.505923, -99.8845, 99.8463, -2.83664, 4.76293, 4.13789, -14.2712, -187.702)
bone_idx = 7

[node name="leftArm_2" parent="Armature/Skeleton3D" index="3"]
transform = Transform3D(-61.6212, 13.5364, 77.586, -0.23562, -98.5431, 17.0056, 78.7576, 10.2962, 60.7554, 40.9511, 10.6, -92.8524)
bone_idx = 16

[node name="leftArm" parent="Armature/Skeleton3D" index="4"]
transform = Transform3D(-72.3744, -37.3612, 58.018, -58.4156, -11.5882, -80.3327, 36.7365, -92.0319, -13.4379, 38.3293, -10.0757, -106.095)
bone_idx = 17

[node name="rightArm_2" parent="Armature/Skeleton3D" index="5"]
transform = Transform3D(99.2685, -2.75972, -11.7538, -2.85557, -99.9571, -0.64778, -11.7309, 0.978678, -99.3047, -42.0737, 17.3807, -98.1865)
bone_idx = 26

[node name="rightArm" parent="Armature/Skeleton3D" index="6"]
transform = Transform3D(73.5529, -42.0065, -53.1548, -52.8983, 13.4117, -83.7968, 42.329, 89.753, -12.356, -37.3411, -3.44578, -111.665)
bone_idx = 27

[node name="body" parent="Armature/Skeleton3D" index="7"]
transform = Transform3D(99.669, 2.16086, -7.8373, 8.01503, -9.98096, 99.1773, 1.36085, -99.4772, -10.1211, 0.309259, -4.93801, -106.262)
bone_idx = 28

[node name="leftLEg" parent="Armature/Skeleton3D" index="8"]
transform = Transform3D(11.3445, 99.349, -1.04214, 29.1879, -2.32991, 95.6172, 94.9704, -11.1514, -29.2622, 17.2857, 10.4636, -40.2064)
bone_idx = 34

[node name="rightLeg" parent="Armature/Skeleton3D" index="9"]
transform = Transform3D(-16.0624, 97.4643, -15.5795, 24.4603, 19.2228, 95.0378, 95.6227, 11.4545, -26.9277, -21.4302, 5.40989, -39.9736)
bone_idx = 40

[node name="gun_skeleton" type="Skeleton3D" parent="." index="2"]

[node name="gun_first_person" parent="gun_skeleton" index="0" instance=ExtResource("3_865bm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.250652, 1.06319, 0.423069)
visible = false

[node name="bone_helper_stowed" type="BoneAttachment3D" parent="gun_skeleton" index="1"]
transform = Transform3D(-0.0046233, -0.00106071, 0.00880886, 0.00794908, 0.00391713, 0.00464373, -0.00394122, 0.00914478, -0.000967375, -0.426059, 0.983307, 0.211484)
bone_name = "mixamorig_RightHand"
bone_idx = 21
use_external_skeleton = true
external_skeleton = NodePath("../../Armature/Skeleton3D")

[node name="scaler" type="Node3D" parent="gun_skeleton/bone_helper_stowed" index="0"]
transform = Transform3D(100, 5.96046e-06, -1.77636e-13, -5.96046e-06, 100, -2.98023e-06, 0, 2.98023e-06, 100, 0, 0, 0)

[node name="gun_stowed" type="Node3D" parent="gun_skeleton/bone_helper_stowed/scaler" index="0"]
transform = Transform3D(0.23564, 0.511059, 0.826037, -0.501518, -0.663928, 0.553828, 0.831864, -0.545038, 0.0999053, 0.263504, 0.0941253, 0.0554504)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="gun_skeleton" index="2"]
transform = Transform3D(0.99669, 0.0216086, -0.078373, -0.0136085, 0.994772, 0.101211, 0.0801503, -0.0998092, 0.991773, 0.00309259, 1.06262, -0.0493797)
bone_name = "body"
bone_idx = 28
use_external_skeleton = true
external_skeleton = NodePath("../../Armature/Skeleton3D")

[node name="gun_idle" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="0"]
transform = Transform3D(0.324093, -0.0264076, 0.945652, -0.000484832, 0.999602, 0.0280803, -0.94602, -0.00955915, 0.323953, -0.0469075, -0.070896, 0.28684)

[node name="gun_aim_idle" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="1"]
transform = Transform3D(0.642282, 0.0532264, 0.764619, 0.0259726, 0.995502, -0.0911157, -0.766029, 0.0783812, 0.63801, -0.112425, 0.239207, 0.393362)

[node name="gun_aim_run" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="2"]
transform = Transform3D(0.94248, -0.178349, 0.282706, 0.0899221, 0.949864, 0.299455, -0.321938, -0.256809, 0.911266, -0.170172, 0.389317, 0.404395)

[node name="gun_aim_walk" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="3"]
transform = Transform3D(0.813066, -0.124569, 0.568691, 0.0230013, 0.982953, 0.182426, -0.581718, -0.135243, 0.802069, -0.196982, 0.360155, 0.453303)

[node name="gun_stowed" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="4"]
transform = Transform3D(0.104209, -0.875384, 0.472058, 0.0989303, -0.463165, -0.880729, 0.989619, 0.138481, 0.0383361, -0.189505, 0.352484, -0.281979)

[node name="gun" parent="gun_skeleton/BoneAttachment3D/gun_stowed" index="0" instance=ExtResource("3_865bm")]
unique_name_in_owner = true

[node name="tip" type="Marker3D" parent="gun_skeleton/BoneAttachment3D/gun_stowed/gun" index="1"]
transform = Transform3D(1, 1.30385e-08, 1.19209e-06, 5.43892e-07, 1, -4.47035e-08, -2.98023e-08, 5.58794e-08, 1, 0.0176065, -0.0670089, 0.712633)

[node name="handle" type="Marker3D" parent="gun_skeleton/BoneAttachment3D/gun_stowed/gun" index="2"]
transform = Transform3D(1, 5.02914e-08, 1.49012e-07, 3.53903e-08, 1, -7.45058e-09, -8.9407e-08, -7.45058e-09, 1, 0.0164987, -0.100369, -0.0505382)
