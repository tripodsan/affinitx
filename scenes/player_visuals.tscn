[gd_scene load_steps=4 format=3 uid="uid://cb4ja2303xf4p"]

[ext_resource type="PackedScene" uid="uid://b42l3mfmo3oy1" path="res://models/player.blend" id="1_6cmfa"]
[ext_resource type="Script" path="res://scenes/player_visuals.gd" id="2_yrk27"]
[ext_resource type="PackedScene" uid="uid://vo11ijbtt3xo" path="res://scenes/gun.tscn" id="3_x167g"]

[node name="player" instance=ExtResource("1_6cmfa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.132495, 0)
script = ExtResource("2_yrk27")

[node name="Skeleton3D" parent="Armature" index="0"]
bones/0/position = Vector3(1.91214, -1.74104, -69.0237)
bones/0/rotation = Quaternion(-0.738775, -0.259308, 0.221355, 0.581354)
bones/1/rotation = Quaternion(0.0805449, -0.00077548, -0.00194013, 0.996749)
bones/2/rotation = Quaternion(0.147189, -0.0003021, -0.00659801, 0.989086)
bones/3/rotation = Quaternion(0.14911, -0.000983498, -0.00644574, 0.988799)
bones/4/rotation = Quaternion(-0.0180197, 0.0653597, 0.00608283, 0.997681)
bones/5/rotation = Quaternion(-0.0401352, 0.192197, 0.0901438, 0.976383)
bones/6/position = Vector3(1.33514e-05, 25.29, -0.914302)
bones/8/rotation = Quaternion(0.318212, 0.273204, -0.650836, 0.632861)
bones/9/position = Vector3(-2.42976e-06, 23.1298, -1.63609e-05)
bones/9/rotation = Quaternion(0.42933, -0.232258, 0.278685, 0.827083)
bones/10/position = Vector3(-1.82226e-06, 39.6046, 7.46247e-07)
bones/10/rotation = Quaternion(0.0218576, -0.0530149, 0.533201, 0.844043)
bones/11/position = Vector3(1.58333e-09, 23.9657, -3.96321e-06)
bones/11/rotation = Quaternion(-0.137201, -0.789754, -0.240488, 0.547385)
bones/12/position = Vector3(-1.9305e-06, 1.3179, 1.30824e-06)
bones/12/rotation = Quaternion(0.316328, -0.0036943, -0.0152296, 0.94852)
bones/13/rotation = Quaternion(0.491709, 0.000793409, -0.0210504, 0.870505)
bones/14/position = Vector3(-0.0101912, 4.5454, 0.104508)
bones/14/rotation = Quaternion(0.209986, -0.0501041, 0.204068, 0.954857)
bones/15/position = Vector3(1.1121, 2.37571, 0.0286038)
bones/18/rotation = Quaternion(0.259264, -0.367639, 0.69709, 0.558291)
bones/19/position = Vector3(2.20349e-06, 23.0467, -7.95431e-06)
bones/19/rotation = Quaternion(0.403584, -0.152721, -0.613765, 0.661127)
bones/20/rotation = Quaternion(-0.060676, -0.00990291, -0.751954, 0.656343)
bones/21/position = Vector3(7.69098e-07, 23.2933, 1.02689e-06)
bones/21/rotation = Quaternion(-0.136923, 0.392215, 0.249658, 0.874695)
bones/22/rotation = Quaternion(0.106424, 0.0066558, -0.0247675, 0.99399)
bones/23/rotation = Quaternion(0.271973, 0.0242177, -0.0831607, 0.958399)
bones/24/position = Vector3(-0.657184, 3.81159, 0.0873206)
bones/24/rotation = Quaternion(0.20363, 0.0860308, -0.173135, 0.95977)
bones/29/rotation = Quaternion(-0.394253, -0.0349704, -0.901237, 0.176391)
bones/30/rotation = Quaternion(-0.279037, 0.0072073, -0.0289607, 0.959816)
bones/31/rotation = Quaternion(0.725211, 0.154911, -0.155203, 0.652674)
bones/32/rotation = Quaternion(-0.00491759, -0.000419801, 0.0838209, 0.996469)
bones/35/rotation = Quaternion(0.0489282, -0.0881198, 0.99232, 0.0717043)
bones/36/rotation = Quaternion(-0.311491, -0.00203546, 0.030813, 0.949747)
bones/37/rotation = Quaternion(-0.381573, 0.810574, -0.392855, -0.207452)
bones/38/rotation = Quaternion(0.264301, 0.724015, -0.368349, 0.519872)

[node name="GunTipIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="0"]
process_priority = 1
root_bone = &"mixamorig_LeftShoulder"
tip_bone = &"mixamorig_LeftHand"
override_tip_basis = false
target_node = NodePath("../../../gun_skeleton/BoneAttachment3D/gun_aim_idle/gun/tip")

[node name="GunHandleIK" type="SkeletonIK3D" parent="Armature/Skeleton3D" index="1"]
process_priority = 1
root_bone = &"mixamorig_RightShoulder"
tip_bone = &"mixamorig_RightHand"
override_tip_basis = false
target_node = NodePath("../../../gun_skeleton/BoneAttachment3D/gun_aim_idle/gun/handle")

[node name="head" parent="Armature/Skeleton3D" index="2"]
transform = Transform3D(44.404, -88.2603, 15.4403, -21.1056, -27.0504, -93.9299, 87.0795, 38.4499, -30.6393, -23.8694, 14.4902, -180.546)
bone_idx = 7

[node name="leftArm_2" parent="Armature/Skeleton3D" index="3"]
transform = Transform3D(-67.3853, 54.4155, 49.9817, -0.264137, -67.8235, 73.484, 73.886, 49.3854, 45.8469, 1.81444, 69.8185, -124.114)
bone_idx = 16

[node name="leftArm" parent="Armature/Skeleton3D" index="4"]
transform = Transform3D(-44.3418, 14.2109, 88.4978, -49.3717, -86.2787, -10.8831, 74.8081, -48.5186, 45.2737, 15.2598, 43.2275, -122.89)
bone_idx = 17

[node name="rightArm_2" parent="Armature/Skeleton3D" index="5"]
transform = Transform3D(89.62, -43.2252, 9.99185, -32.848, -79.7885, -50.545, 29.8205, 42.0164, -85.7051, -37.2191, 16.1209, -118.594)
bone_idx = 26

[node name="rightArm" parent="Armature/Skeleton3D" index="6"]
transform = Transform3D(40.8877, -60.3134, -68.4871, -45.3926, 51.6634, -72.5975, 79.1689, 60.7716, -6.25386, -37.2546, -6.3477, -120.305)
bone_idx = 27

[node name="body" parent="Armature/Skeleton3D" index="7"]
transform = Transform3D(76.6453, 3.90699, -64.1111, 64.1996, -7.73351, 76.2798, -1.9778, -99.6239, -8.43565, 3.73617, -4.63916, -106.598)
bone_idx = 28

[node name="body" parent="Armature/Skeleton3D/body" index="0"]
transform = Transform3D(1, 1.86265e-09, 2.98023e-08, -5.58794e-09, 0.994765, 0.102185, -5.96046e-08, -0.102185, 0.994765, 0, 0, 0)

[node name="leftLEg" parent="Armature/Skeleton3D" index="8"]
transform = Transform3D(18.0669, 97.5179, 12.8006, 35.5997, -18.616, 91.5757, 91.6856, -11.9879, -38.0795, 16.6176, 21.4438, -42.2801)
bone_idx = 34

[node name="rightLeg" parent="Armature/Skeleton3D" index="9"]
transform = Transform3D(-10.7902, 81.0595, -57.558, -4.36816, 57.4536, 81.7313, 99.3202, 11.3332, -2.65857, -16.3368, -9.49809, -39.0651)
bone_idx = 40

[node name="gun_skeleton" type="Skeleton3D" parent="." index="2"]

[node name="gun_first_person" parent="gun_skeleton" index="0" instance=ExtResource("3_x167g")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0795185, 1.06319, 0.423069)
visible = false

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="gun_skeleton" index="1"]
transform = Transform3D(0.766453, 0.0390699, -0.641111, 0.0197777, 0.996239, 0.0843562, 0.641996, -0.0773347, 0.762798, 0.0373617, 1.06598, -0.0463913)
bone_name = "body"
bone_idx = 28
use_external_skeleton = true
external_skeleton = NodePath("../../Armature/Skeleton3D")

[node name="gun_idle" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="0"]
transform = Transform3D(0.259421, 0.0679956, 0.963363, -0.0301161, 0.997599, -0.0623021, -0.96529, -0.0128503, 0.260847, -0.300369, -0.0252303, 0.218168)
metadata/_edit_group_ = true

[node name="gun_aim_idle" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="1"]
transform = Transform3D(0.642282, 0.0532264, 0.764619, 0.0259726, 0.995502, -0.0911157, -0.766029, 0.0783812, 0.63801, -0.112425, 0.239207, 0.393362)

[node name="gun" parent="gun_skeleton/BoneAttachment3D/gun_aim_idle" index="0" instance=ExtResource("3_x167g")]
unique_name_in_owner = true
transform = Transform3D(0.999999, 0, 0, 0, 0.999999, 0, 0, 0, 1, 0, 0, 0)

[node name="tip" type="Marker3D" parent="gun_skeleton/BoneAttachment3D/gun_aim_idle/gun" index="1"]
transform = Transform3D(1, 1.30385e-08, 1.19209e-06, 5.43892e-07, 1, -4.47035e-08, -2.98023e-08, 5.58794e-08, 1, 0.0176065, -0.0670089, 0.712633)

[node name="handle" type="Marker3D" parent="gun_skeleton/BoneAttachment3D/gun_aim_idle/gun" index="2"]
transform = Transform3D(1, 5.02914e-08, 1.49012e-07, 3.53903e-08, 1, -7.45058e-09, -8.9407e-08, -7.45058e-09, 1, 0.0164987, -0.100369, -0.0505382)

[node name="gun_aim_run" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="2"]
transform = Transform3D(0.94248, -0.178349, 0.282706, 0.0899221, 0.949864, 0.299455, -0.321938, -0.256809, 0.911266, -0.170172, 0.389317, 0.404395)

[node name="gun_aim_walk" type="Node3D" parent="gun_skeleton/BoneAttachment3D" index="3"]
transform = Transform3D(0.813066, -0.124569, 0.568691, 0.0230013, 0.982953, 0.182426, -0.581718, -0.135243, 0.802069, -0.196982, 0.360155, 0.453303)
